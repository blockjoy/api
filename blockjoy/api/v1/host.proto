syntax = "proto3";

package blockjoy.api.v1;

import "messages.proto";

enum ConnectionStatus {
    UndefinedConnectionStatus = 0;
    Online = 1;
    Offline = 2;
}

message HostInfo {
    Uuid id = 1;
    optional string name = 2;
    optional string version = 3;
    optional string location = 4;
    optional int64 cpu_count = 5;
    optional int64 mem_size = 6;
    optional int64 disk_size = 7;
    optional string os = 8;
    optional string os_version = 9;
    optional string ip = 10;
}

message ProvisionHostRequest {
    string otp = 1;
    Uuid org_id = 2;
    HostInfo info = 3;
    repeated string validator_ips = 4;
    string token = 5;
    ConnectionStatus status = 6;
}

message ProvisionHostResponse {
    Uuid id = 1;
    string token = 2;
    repeated string messages = 3;
}

message HostInfoUpdateRequest {
    Uuid id = 1;
    HostInfo info = 2;
}

message HostInfoUpdateResponse {
    repeated string messages = 1;
}

syntax = "proto3";

package blockjoy.api.v1;

message NodeType {
  message Generic {
    enum Status {
      // Common states
      UndefinedStatus = 0;
      Starting = 1;
      Started = 2;
      Stopping = 3;
      Stopped = 4;
      Upgrading = 5;
      Upgraded = 6;

      // Node type specific
      Consensus = 7;
      Syncing = 8;
    }

    Status status = 2;
  }

  message API {
    enum Status {
      // Common states
      UndefinedStatus = 0;
      Starting = 1;
      Started = 2;
      Stopping = 3;
      Stopped = 4;
      Upgrading = 5;
      Upgraded = 6;

      // Node type specific
      Consensus = 7;
      Syncing = 8;
    }

    Status status = 2;
  }

  message ETL {
    enum Status {
      // Common states
      UndefinedStatus = 0;
      Starting = 1;
      Started = 2;
      Stopping = 3;
      Stopped = 4;
      Upgrading = 5;
      Upgraded = 6;

      // Node type specific
      Consensus = 7;
      Syncing = 8;
    }

    Status status = 2;
  }

  message Validator {
    enum Status {
      // Common states
      UndefinedStatus = 0;
      Starting = 1;
      Started = 2;
      Stopping = 3;
      Stopped = 4;
      Upgrading = 5;
      Upgraded = 6;

      // Node type specific
      Consensus = 7;
      Syncing = 8;
    }

    Status status = 2;
  }

  message Miner {
    enum Status {
      // Common states
      UndefinedStatus = 0;
      Starting = 1;
      Started = 2;
      Stopping = 3;
      Stopped = 4;
      Upgrading = 5;
      Upgraded = 6;

      // Node type specific
      Consensus = 7;
      Syncing = 8;
    }

    Status status = 2;
  }

  oneof type {
    Generic generic = 1;
    API api = 2;
    ETL etl = 3;
    Validator validator = 4;
    Miner miner = 5;
  }
}